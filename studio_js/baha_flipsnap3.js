!function(e,n,i){function t(e){return this instanceof t?this.init(e):new t(e)}function p(e){var i=n.documentElement.clientWidth;if(egg(e.viewPort).css("width",i+"px"),egg(e.div).css("width",i*e.divSize+"px"),egg(e.item).css("width",i+"px"),e.menuWidth=i/100*e.menuSize,e.ww=i,e.divSize>1&&(e.flipsnap.distance=i,e.flipsnap.refresh()),0!=e.flipsnapMenu){var t=jQuery(e.flipsnapMenu).find("li:last-child");t.css("left",20*e.flipsnap.currentPoint+"%")}}t.prototype.init=function(n){var i=this;n=n||{},i.viewPort=n.viewPort||".viewport",i.div=n.div||".flipsnap",i.item=n.item||".item",i.divSize=n.divSize||1,i.flipsnapMenu=n.flipsnapMenu||!1,i.menuSize=n.menuSize||23,i.bahaMenu=n.bahaMenu||".sub_menu",i.menuWidth=0,i.ww=0,i.divSize>1&&(i.flipsnap=Flipsnap(i.div),i.flipsnap.element.addEventListener("fspointmove",function(e){if(0!=i.flipsnapMenu){var n=jQuery(i.flipsnapMenu),t=jQuery(i.flipsnapMenu).find("li:last-child");n.children(".now").removeClass("now"),n.children().eq(i.flipsnap.currentPoint).addClass("now");var p=i.menuWidth*(i.flipsnap.currentPoint-3);i.flipsnap.currentPoint<0&&(p=0),t.animate({left:20*i.flipsnap.currentPoint+"%"},350)}},!1)),p(i),e.addEventListener("resize",function(){p(i)},!1),e.addEventListener("orientationchange",function(){p(i)},!1)},t.prototype.openMenu=function(){var e=this;"0px"==egg(e.bahaMenu).css("left")?egg(e.bahaMenu).css("left","-100%"):egg(e.bahaMenu).css("left",0)},t.prototype.moveTop=function(){e.scrollTo(0,0)},t.prototype.moveEnd=function(){var n=this;n.divSize>1?egg(n.div).find(".item").get(n.flipsnap.currentPoint).scrollTop=egg(n.div).find(".item").get(n.flipsnap.currentPoint).scrollHeight:e.scrollTo(0,egg("body").get(0).scrollHeight)},t.prototype.reSize=function(){var e=this;p(e)},"object"==typeof exports?module.exports=t:"function"==typeof define&&define.amd?define("baha_flipsnap3",[],function(){return t}):e.BAHA_Flipsnap3=t}(window,window.document);